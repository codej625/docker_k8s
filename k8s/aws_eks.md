# EKS

<br />
<br />

* EKS(Elastic Kubernetes Service)

---

```
EKS란 AWS에서 쿠버네티스를 편하게 관리하고 사용할 수 있게 만든 AWS용 쿠버네티스이다.

이와 비슷한 예로 MySQL과 같은 DB를 편하게 관리하고 사용할 수 있게 만든 서비스가 RDS이고,
Redis와 같은 캐싱을 편하게 관리하고 사용할 수 있게 만든 서비스가 ElastiCache이다.
```

<br />
<br />
<br />
<br />

1. 현업에서 EKS를 사용하는 이유

| 항목 | 설명 |
|-|-|
| 관리 부담 감소 | Kubernetes의 설치, 설정, 업그레이드 및 보안 관리와 같은 복잡한 작업은 AWS에서 담당한다. |
| 높은 안정성과 확장성 | AWS의 검증된 인프라 위에서 작동하며, 컨트롤 플레인이 여러 가용 영역에 걸쳐 자동으로 구축되어 높은 가용성과 확장성을 제공한다. |
| 유연성 및 개방성 | Kubernetes 표준을 사용하기 때문에 워크로드를 다른 클라우드로 이전하거나, 다양한 오픈소스 도구를 활용하는 데 용이하다. |
| 보안 | AWS VPC 환경 내에서 실행되며, 다양한 보안 기능과 통합할 수 있어 안전하게 애플리케이션을 운영할 수 있다. |
| 사용 편의성 | AWS 콘솔에서 애드온을 쉽게 설치하고, 클릭 한 번으로 업그레이드하는 등 관리 기능이 편리하다. |
| 긴 지원 기간 | 쿠버네티스 마이너 버전을 더 오래 지원하여 장기적인 운영이 가능하다. |
| 성능 및 네트워크 효율성 | VPC CNI를 사용하여 오버레이 네트워크가 아닌 노드와 동일한 네트워크 대역에서 직접 통신하므로, 네트워크 지연 감소 및 높은 대역폭을 제공한다. |

<br />
<br />
<br />

2. 쿠버네티스 구조

```
+-------------------------+
|  개발자 (Developer)     |
|   (kubectl 명령어 사용) |
+-------------------------+
             |
             ↓
+----------------------------------------------+
|   쿠버네티스 클러스터 (Kubernetes Cluster)   |                
|                                              |                                                                                                     
|   +-------------+                            |          
|   | 마스터 노드 |                            |
|   +-------------+                            |
|          |                                   |  
|          ↓                                   | 
|   +------------------------+                 | 
|   |  워커 노드             |                 | 
|   |  +------------------+  |                 |
|   |  |  파드 (Pod)      |  |                 |
|   |  |  +------------+  |  |                 |
|   |  |  |  컨테이너  |  |  |                 |
|   |  |  |  (spring)  |  |  |                 |
|   |  |  +------------+  |  |                 |
|   |  +------------------+  |                 |
|   +------------------------+                 |
|            ↑                                 |
|            |                                 |
|   +------------------+                       |          
|   | 서비스 (service) |                       |
|   +------------------+                       |
|            ↑                                 |  
|            |                                 |
+----------------------------------------------+
             ↑
             |
+-------------------------+
|  사용자 (Client)        |
|                         |
+-------------------------+
```

<br />

| 명칭               | 설명                                                          |
|--------------------|----------------------------------------------------------------|
| 쿠버네티스 클러스터 | 하나의 마스터 노드와 여러 워커 노드들을 한 묶음으로 부르는 단위 |
| 마스터 노드         | 쿠버네티스 클러스터 전체를 관리하는 서버 (관리자 역할)          |
| 워커 노드           | 쿠버네티스 파드의 실행시키는 서버                              |
| 서비스              | 로드밸런서 역할                                                |

```
마스터 노드는 kubectl 과 같은 명령어를 가장 처음으로 받아 처리하고,
워커 노드에서는 파드를 실행시킨다.

사용자는 서비스를 통해 각 각의 파드로 요청을 보내고,
서비스는 설정에 맞게 로드밸런싱한다.
```

<br />
<br />
<br />

2. AWS EKS 구조

```
+-------------------------+
|  개발자 (Developer)     |
|   (kubectl 명령어 사용) |
+-------------------------+
             |
             ↓
+----------------------------------------------+
|   쿠버네티스 클러스터 (EKS Cluster)          |                
|                                              |                                                                                                     
|   +-------------------------+                |          
|   | 마스터 노드              |               |
|   | (EKS에 내장된 인스턴스)  |               |
|   +-------------------------+                |
|            |                                 |  
|            ↓                                 | 
|   +---------------------------+              | 
|   |  워커 노드 (EC2 인스턴스)  |             | 
|   |  +--------------------+   |              |
|   |  |  파드 (Pod)        |   |              |
|   |  |  +--------------+  |   |              |
|   |  |  |  컨테이너    |  |   |              |
|   |  |  |  (spring)    |  |   |              |
|   |  |  +--------------+  |   |              |
|   |  +--------------------+   |              |
|   +---------------------------+              |
|            ↑                                 |
|            |                                 |
|   +------------------+                       |          
|   | 서비스 (service) |                       |
|   +------------------+                       |
|            ↑                                 |  
|            |                                 |
+----------------------------------------------+
             ↑
             |
+-------------------------+
|  로드밸런서 (ELB)       |
|                         |
+-------------------------+
             ↑
             |
+-------------------------+
|  사용자 (Client)        |
|                         |
+-------------------------+
```

<br />

| 서비스 | 설명                                                                                                        |
|--------|-------------------------------------------------------------------------------------------------------------|
| EKS    | AWS 관리형 Kubernetes 서비스. 클러스터 제어 플레인(마스터 노드)을 AWS가 운영 → 사용자는 워커 노드(EC2)만 관리 |
| EC2    | 가상 서버 인스턴스. OS, 앱, 네트워크까지 직접 제어. 전통적인 VM처럼 사용                                      |
| ELB    | Load Balancer. 트래픽을 여러 대상(EC2, EKS Service, IP 등)으로 분산                                          |

```
사용자 Request 시, ELB를 먼저 거치는 구조이다.

외부 DNS 기능과 SSL 그리고 모니터링 기능을 수월하게 하기 위해서이다.
```
